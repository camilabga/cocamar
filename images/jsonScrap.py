import shutil

import requests

def scrapData():
    headers = {
        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:79.0) Gecko/20100101 Firefox/79.0',
        'Accept': 'application/json, text/javascript, */*; q=0.01',
        'Accept-Language': 'en,en-US;q=0.8,pt-BR;q=0.5,pt;q=0.3',
        'Origin': 'https://www.insectimages.org',
        'DNT': '1',
        'Connection': 'keep-alive',
        'Referer': 'https://www.insectimages.org/browse/taxthumb.cfm?order=120',
        'TE': 'Trailers',
    }

    params = (
        ('include', 'descriptor,dateupdated,citation'),
        ('fmt', 'datatable'),
        ('order[0][column]', '0'),
        ('order[0][dir]', 'desc'),
        ('columns[8][searchable]', 'true'),
        ('columns[1][searchable]', 'true'),
        ('columns[7][searchable]', 'true'),
        ('columns[10][searchable]', 'true'),
        ('columns[4][searchable]', 'true'),
        ('columns[11][searchable]', 'true'),
        ('page', '1'),
        ('length', '50'),
        ('order', '120'),
        ('systemid', '2'),
    )

    response = requests.get('https://api.bugwood.org/rest/api/image/.json', headers=headers, params=params, )
    return response.json()



def get_image_from_site(url,filename, dir="algo"):
    headers = {
        'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:79.0) Gecko/20100101 Firefox/79.0',
        'Accept': 'image/webp,*/*',
        'Accept-Language': 'en,en-US;q=0.8,pt-BR;q=0.5,pt;q=0.3',
        'DNT': '1',
        'Connection': 'keep-alive',
        'Referer': 'https://www.insectimages.org/browse/taxthumb.cfm?order=120',
        'TE': 'Trailers',
    }
    response = requests.get(url, headers=headers,stream=True)
    with open(f"data/{dir}/{filename}.jpg", 'wb') as file:
        response.raw.decode_content = True
        shutil.copyfileobj(response.raw, file)
        del response

# presidents = [
# "https://bugwoodcloud.org/images/384x256/1252081.jpg",
# "https://bugwoodcloud.org/images/384x256/2133033.jpg",
# "https://bugwoodcloud.org/images/384x256/2133034.jpg",
# "https://bugwoodcloud.org/images/384x256/2133035.jpg",
# "https://bugwoodcloud.org/images/384x256/2133036.jpg",
# "https://bugwoodcloud.org/images/384x256/5380254.jpg",
# "https://bugwoodcloud.org/images/384x256/5401504.jpg",
# "https://bugwoodcloud.org/images/384x256/5401505.jpg",
# "https://bugwoodcloud.org/images/384x256/5431395.jpg",
# "https://bugwoodcloud.org/images/384x256/5431398.jpg",
# "https://bugwoodcloud.org/images/384x256/5431470.jpg",
# "https://bugwoodcloud.org/images/384x256/5434987.jpg",
# "https://bugwoodcloud.org/images/384x256/5434988.jpg",
# "https://bugwoodcloud.org/images/384x256/5434989.jpg",
# "https://bugwoodcloud.org/images/384x256/5434990.jpg",
# "https://bugwoodcloud.org/images/384x256/5434991.jpg",
# "https://bugwoodcloud.org/images/384x256/5434992.jpg",
# "https://bugwoodcloud.org/images/384x256/5434993.jpg",
# "https://bugwoodcloud.org/images/384x256/5434994.jpg",
# "https://bugwoodcloud.org/images/384x256/5440419.jpg",
# "https://bugwoodcloud.org/images/384x256/5440420.jpg",
# "https://bugwoodcloud.org/images/384x256/5440421.jpg",
# "https://bugwoodcloud.org/images/384x256/5440422.jpg",
# "https://bugwoodcloud.org/images/384x256/5440423.jpg",
# "https://bugwoodcloud.org/images/384x256/5440424.jpg",
# "https://bugwoodcloud.org/images/384x256/5440425.jpg",
# "https://bugwoodcloud.org/images/384x256/5533048.jpg",
# "https://bugwoodcloud.org/images/384x256/5533049.jpg",
# "https://bugwoodcloud.org/images/384x256/5533050.jpg",
# "https://bugwoodcloud.org/images/384x256/5533051.jpg",
# "https://bugwoodcloud.org/images/384x256/5533052.jpg",
# "https://bugwoodcloud.org/images/384x256/5533053.jpg",
# "https://bugwoodcloud.org/images/384x256/5533054.jpg",
# "https://bugwoodcloud.org/images/384x256/5553654.jpg",
# "https://bugwoodcloud.org/images/384x256/5553655.jpg",
# "https://bugwoodcloud.org/images/384x256/5553656.jpg",
# "https://bugwoodcloud.org/images/384x256/5579692.jpg",
# "https://bugwoodcloud.org/images/384x256/5579693.jpg",
# ]
# for num, name in enumerate(presidents, start=1):
#     get_image_from_site(name, f'Isopoda_N_{num}')

bugs_mixin= [
"https://bugwoodcloud.org/images/384x256/5596685.jpg",
"https://bugwoodcloud.org/images/384x256/5596684.jpg",
"https://bugwoodcloud.org/images/384x256/5596683.jpg",
"https://bugwoodcloud.org/images/384x256/5596682.jpg",
"https://bugwoodcloud.org/images/384x256/5596661.jpg",
"https://bugwoodcloud.org/images/384x256/5596660.jpg",
"https://bugwoodcloud.org/images/384x256/5596659.jpg",
"https://bugwoodcloud.org/images/384x256/5596639.jpg",
"https://bugwoodcloud.org/images/384x256/5596638.jpg",
"https://bugwoodcloud.org/images/384x256/5596637.jpg",
"https://bugwoodcloud.org/images/384x256/5596636.jpg",
"https://bugwoodcloud.org/images/384x256/5596635.jpg",
"https://bugwoodcloud.org/images/384x256/5596397.jpg",
"https://bugwoodcloud.org/images/384x256/5596396.jpg",
"https://bugwoodcloud.org/images/384x256/5596394.jpg",
"https://bugwoodcloud.org/images/384x256/5596393.jpg",
"https://bugwoodcloud.org/images/384x256/5596392.jpg",
"https://bugwoodcloud.org/images/384x256/5594590.jpg",
"https://bugwoodcloud.org/images/384x256/5594589.jpg",
"https://bugwoodcloud.org/images/384x256/5594588.jpg",
"https://bugwoodcloud.org/images/384x256/5594587.jpg",
"https://bugwoodcloud.org/images/384x256/5594586.jpg",
"https://bugwoodcloud.org/images/384x256/5594585.jpg",
"https://bugwoodcloud.org/images/384x256/5594583.jpg",
"https://bugwoodcloud.org/images/384x256/5594582.jpg",
"https://bugwoodcloud.org/images/384x256/5594328.jpg",
"https://bugwoodcloud.org/images/384x256/5594327.jpg",
"https://bugwoodcloud.org/images/384x256/5594250.jpg",
"https://bugwoodcloud.org/images/384x256/5594240.jpg",
"https://bugwoodcloud.org/images/384x256/5594239.jpg",
"https://bugwoodcloud.org/images/384x256/5594229.jpg",
"https://bugwoodcloud.org/images/384x256/5594228.jpg",
"https://bugwoodcloud.org/images/384x256/5594223.jpg",
"https://bugwoodcloud.org/images/384x256/5594190.jpg",
"https://bugwoodcloud.org/images/384x256/5593993.jpg",
"https://bugwoodcloud.org/images/384x256/5593992.jpg",
"https://bugwoodcloud.org/images/384x256/5593890.jpg",
"https://bugwoodcloud.org/images/384x256/5593888.jpg",
"https://bugwoodcloud.org/images/384x256/5593886.jpg",
"https://bugwoodcloud.org/images/384x256/5593882.jpg",
"https://bugwoodcloud.org/images/384x256/5591816.jpg",
"https://bugwoodcloud.org/images/384x256/5593878.jpg",
"https://bugwoodcloud.org/images/384x256/5593828.jpg",
"https://bugwoodcloud.org/images/384x256/5592628.jpg",
"https://bugwoodcloud.org/images/384x256/5592506.jpg",
"https://bugwoodcloud.org/images/384x256/5592505.jpg",
"https://bugwoodcloud.org/images/384x256/5592492.jpg",
"https://bugwoodcloud.org/images/384x256/5591817.jpg",
"https://bugwoodcloud.org/images/384x256/5591815.jpg",
"https://bugwoodcloud.org/images/384x256/5591806.jpg",
"https://bugwoodcloud.org/images/384x256/5591805.jpg",
"https://bugwoodcloud.org/images/384x256/5591804.jpg",
"https://bugwoodcloud.org/images/384x256/5591773.jpg",
"https://bugwoodcloud.org/images/384x256/5591772.jpg",
"https://bugwoodcloud.org/images/384x256/5587529.jpg",
"https://bugwoodcloud.org/images/384x256/5587501.jpg",
"https://bugwoodcloud.org/images/384x256/5587484.jpg",
"https://bugwoodcloud.org/images/384x256/5587482.jpg",
"https://bugwoodcloud.org/images/384x256/5587477.jpg",
"https://bugwoodcloud.org/images/384x256/5587458.jpg",
"https://bugwoodcloud.org/images/384x256/5587457.jpg",
"https://bugwoodcloud.org/images/384x256/5587248.jpg",
"https://bugwoodcloud.org/images/384x256/5587447.jpg",
"https://bugwoodcloud.org/images/384x256/5587443.jpg",
"https://bugwoodcloud.org/images/384x256/5587438.jpg",
"https://bugwoodcloud.org/images/384x256/5587437.jpg",
"https://bugwoodcloud.org/images/384x256/5587435.jpg",
"https://bugwoodcloud.org/images/384x256/5587434.jpg",
"https://bugwoodcloud.org/images/384x256/5587427.jpg",
"https://bugwoodcloud.org/images/384x256/5587425.jpg",
"https://bugwoodcloud.org/images/384x256/5587281.jpg",
"https://bugwoodcloud.org/images/384x256/5587270.jpg",
"https://bugwoodcloud.org/images/384x256/5587267.jpg",
"https://bugwoodcloud.org/images/384x256/5587254.jpg",
"https://bugwoodcloud.org/images/384x256/5587246.jpg",
"https://bugwoodcloud.org/images/384x256/5587241.jpg",
"https://bugwoodcloud.org/images/384x256/5587239.jpg",
"https://bugwoodcloud.org/images/384x256/5587238.jpg",
"https://bugwoodcloud.org/images/384x256/5587236.jpg",
"https://bugwoodcloud.org/images/384x256/5587228.jpg",
"https://bugwoodcloud.org/images/384x256/5587226.jpg",
"https://bugwoodcloud.org/images/384x256/5587223.jpg",
"https://bugwoodcloud.org/images/384x256/5587221.jpg",
"https://bugwoodcloud.org/images/384x256/5587216.jpg",
"https://bugwoodcloud.org/images/384x256/5587213.jpg",
"https://bugwoodcloud.org/images/384x256/5587196.jpg",
"https://bugwoodcloud.org/images/384x256/5587195.jpg",
"https://bugwoodcloud.org/images/384x256/5587194.jpg",
"https://bugwoodcloud.org/images/384x256/5587189.jpg",
"https://bugwoodcloud.org/images/384x256/5587188.jpg",
"https://bugwoodcloud.org/images/384x256/5587187.jpg",
"https://bugwoodcloud.org/images/384x256/5587184.jpg",
"https://bugwoodcloud.org/images/384x256/5587182.jpg",
"https://bugwoodcloud.org/images/384x256/5587181.jpg",
"https://bugwoodcloud.org/images/384x256/5587180.jpg",
"https://bugwoodcloud.org/images/384x256/5587179.jpg",
"https://bugwoodcloud.org/images/384x256/5587178.jpg",
"https://bugwoodcloud.org/images/384x256/5587176.jpg",
"https://bugwoodcloud.org/images/384x256/5587175.jpg",
"https://bugwoodcloud.org/images/384x256/5587174.jpg",
"https://bugwoodcloud.org/images/384x256/5587172.jpg",
"https://bugwoodcloud.org/images/384x256/5587171.jpg",
"https://bugwoodcloud.org/images/384x256/5587169.jpg",
"https://bugwoodcloud.org/images/384x256/5587168.jpg",
"https://bugwoodcloud.org/images/384x256/5587167.jpg",]

for num, name in enumerate(bugs_mixin, start=1):
    get_image_from_site(name, f'bugs_N1_{num}', dir="mixin_bugs")
